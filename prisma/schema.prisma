// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Empresas {
  id          Int           @id @default(autoincrement())
  nome        String
  Lancamentos Lancamentos[]
}

model Funcionarios {
  id                Int           @id @default(autoincrement())
  nome              String
  funcao            String
  salario           Decimal
  temValeTransporte Boolean
  chavePix          String
  Lancamentos       Lancamentos[]
}

model Usuarios {
  id          Int          @id @default(autoincrement())
  nome        String
  email       String
  senha       String
  admin       Boolean
}

model Despesas {
  id          Int           @id @default(autoincrement())
  nome        String
  estimado    Decimal
  dataCriacao DateTime      @default(now())
  funCriou    Int
  Lancamentos Lancamentos[]
}

model Lancamentos {
  id          Int          @id @default(autoincrement())
  nome        String
  estimado    Decimal
  real        Decimal
  diferenca   Decimal
  obs         String?
  dataCriacao DateTime     @default(now())
  funId       Int
  despesaId   Int
  empresaId   Int          @default(1)
  funCriou    Funcionarios @relation(fields: [funId], references: [id])
  despesa     Despesas     @relation(fields: [despesaId], references: [id])
  empresa     Empresas     @relation(fields: [empresaId], references: [id])
}
